<!doctype html>
<!--[if lte IE 7]>
  <meta http-equiv="refresh" content="0" url="http://browsehappy.com/" />
  <script type="text/javascript">
  /* <![CDATA[ */
  window.top.location = 'http://browsehappy.com/';
  /* ]]> */
  </script>
<![endif]-->
<!--[if IE 8]><html class="ie8"> <![endif]-->
<!--[if gt IE 8]><!--><html class="gt-ie8"><!--<![endif]-->
  
  <head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta http-equiv="cleartype" content="on">
    <meta name="author" content="">
    <meta name="description" content="Syntaxfx">

    <title>The Forgotten Munchkins of Console Application Development | Syntax FX</title>
    <link href="../../../stylesheets/screen.css" media="screen" rel="stylesheet" type="text/css" />
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js" type="text/javascript"></script>
<script src="../../../javascripts/core.js" type="text/javascript"></script>
    <script type="text/javascript">
      WebFontConfig = {
         google: { families: [ 'IM+Fell+DW+Pica+SC::latin', 'Averia+Gruesa+Libre::latin', 'Asap::latin', 'Noto+Sans::latin' ] }
      };
      (function() {
        var wf = document.createElement('script');
        wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
          '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
        wf.type = 'text/javascript';
        wf.async = 'true';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(wf, s);
      })(); 
    </script>
    <!--[if lt IE 9]>
      <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link href="../../../images/favicon.png" rel="icon" type="image/png" />
    <link href="../../../images/favicon.ico" rel="icon" type="image/ico" />
<!-- MathJax Library -->
<script type="text/javascript" src="https://c328740.ssl.cf1.rackcdn.com/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG"> </script>
  </head>
  
  <body lang="en">
    <div id="container">
      <header>
        <h1>
<svg xmlns:xlink="http://www.w3.org/1999/xlink 
  width="850" height="200" viewBox="0 0 850 200" 
  preserveAspectRatio="slice">

  <a xlink:href="/" xlink:show="replace">
  <style type="text/css">
     rect:hover {fill:green}
     circle:hover {fill:green}
     text:hover {fill:green}
  </style>
     <rect width="850" height="200" 
        fill="#D6302B" fill-opacity="1.0" 
        stroke="black" stroke-width="1" />
     <circle cx="550" cy="100" r="140" 
        fill="#E85832" fill-opacity="1.0" 
        stroke="black" stroke-width="10" />
     <circle cx="550" cy="100" r="100" 
        fill="#FF7A26" fill-opacity="1.0" 
        stroke="black" stroke-width="3" />
     <circle cx="550" cy="100" r="60" 
        fill="#E8AE63" fill-opacity="1.0" 
        stroke="black" stroke-width="5" />
     <circle cx="550" cy="100" r="30" 
        fill="green" fill-opacity="1.0" 
        stroke="black" stroke-width="10" />
     <text x="0" y="195" font-size="180" text-anchor="left" 
        fill="#FFC33B" stroke="black" 
        stroke-width="3">Syntax FX</text>
  </a>
</svg>
</h1>
  <div id="intro">
     <p class="subTitle details">Tech Blog by Allan Bowhill.</p>
  </div>

        <nav class="clearfix">
          <div class="navButton button previousButton">
            <a class="previous details" href="/posts/2014/config-tmux-freebsd/"><i class="icon-backward left-more"></i>Earlier</a>
          </div>
          
          
            <div class="navButton button nextButton">
              <a href="/posts/2013/index.html" class="next details">Archive<i class="icon-reorder right-more"></i></a>
            </div>
          
         <span class="navLinks details"><a href="http://twitter.com"><i class="icon-twitter"></i>Twitter</a><a href="/rss.rss"><i class="icon-rss"></i>RSS</a><a class="last" href="mailto:blank@blank.com"><i class="icon-envelope-alt"></i>Contact</a></span>
        </nav>
      </header>
      <article class="single">
        <h2><a href="/posts/2014/meta-munchkins/">The Forgotten Munchkins of Console Application Development</a></h2>
        <span class="postDetails clearfix"><time class="date details">Mar 27 2014</time><span class="tagLinks details">Tags: 	
	  <span class="tags"><a class="tags" href="/posts/tags/metaprogramming/">metaprogramming</a></span>
	
	  <span class="tags"><a class="tags" href="/posts/tags/ruby/">ruby</a></span>
	
	  <span class="tags"><a class="tags" href="/posts/tags/configuration/">configuration</a></span>
	</span></span>
        <p>It is your current project and you have been induging in secret thought plans about it for weeks. Planning happens in the shower, on the bus, or when your wife is talking about her favorite TV show. It happens when you talk to relatives on the phone, or standing in line for coffee. At any spare moment it can be opportunistically slipped into your personal awareness space. The Master Plan is unrolled on a mental table and worked-upon. There are notebooks with diagrams at home. Perhaps functional specs, or at least sketchy attempts to define.</p>

<p>Incubation of any project, no matter how small, is like being the producer of <strong>“The Wizard of Oz II: The Revenge of Dorothy”</strong> or some similarly dubious idea. After doing this awhile, you reach a pregnant moment when the project must come off the mental table and into a code editor. The rubber must hit the road, Son. You muster resources, hire old actors back for another chop, ready the scripts, cameras and sets. Perhaps one night, assisted by caffeine, you enter headlong into the chaos. You may knock-out classes like Sarah Palin shooting fish in her swimming pool. Until certain forgotten needs arise.</p>

<blockquote>
  <p><em>“What about logging? I can’t see what my code is doing.”</em></p>
</blockquote>

<blockquote>
  <p><em>“I’m not going to parse all these options on a command-line. I need a configuration file.”</em></p>
</blockquote>

<blockquote>
  <p><em>“I think I need a driver for all this.”</em></p>
</blockquote>

<p>You were setup to film “The Lollipop Kids” number and discovered three or four Munchkins have gone missing. It turns out they were never hired. So everything pretty much comes to a stop.</p>

<p>So, for me, this is what it’s like writing console applications with Ruby, Perl, or whatever. Great plans, no tests, no continous build, no Intellij or Maven. Just an editor and some consoles, preferably several - possibly over 10 - and start writing, monitoring, editing, copying, and see how it goes. It’s all there, yet sometimes the show stops.</p>

<p>So we are missing pretty standard things. <strong>Logging</strong>, <strong>Driver</strong>, <strong>Configuration</strong>, <strong>Argument Handling</strong>. These small things link arms and do the critical, iconic Munchkin dance. You can’t go on without them. They are like light sabres in Star Wars films. </p>

<p>Let’s address one at a time:</p>

<h3 id="logging">Logging</h3>

<p>If you write Ruby you are in for a real treat. The system libraries support <strong>Logger</strong> and are fully thread-safe in the latest version. The documentation, as usual is ungenerous, but the facility can be included easily with some modifications shown below. For normal use, you shouldn’t need to download dependency gems. The built-in logger is top-notch, and better for general purpose than most other 3rd-party logging frameworks.</p>

<pre class="highlight ruby"><table><tbody><tr><td class="gutter gl"><div class="lineno">1</div><div class="lineno">2</div><div class="lineno">3</div><div class="lineno">4</div><div class="lineno">5</div><div class="lineno">6</div><div class="lineno">7</div><div class="lineno">8</div><div class="lineno">9</div><div class="lineno">10</div><div class="lineno">11</div><div class="lineno">12</div><div class="lineno">13</div><div class="lineno">14</div></td><td class="code"><span class="c1"># from http://apidock.com/ruby/Logger (suggestion by tadman)</span>

<span class="nb">require</span> <span class="s1">&#39;logger&#39;</span>

<span class="k">class </span><span class="o">&lt;</span><span class="n">project</span><span class="o">&gt;</span><span class="no">Logger</span> <span class="o">&lt;</span> <span class="no">Logger</span>

   <span class="k">def </span><span class="nf">initialize</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
     <span class="k">super</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
   <span class="k">end</span>

   <span class="k">def </span><span class="nf">format_message</span><span class="p">(</span><span class="n">severity</span><span class="p">,</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">progname</span><span class="p">,</span> <span class="n">msg</span><span class="p">)</span>
     <span class="s2">&quot;[%s %s] %s</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="o">[</span> <span class="n">severity</span><span class="p">,</span> <span class="n">datetime</span><span class="nf">.strftime</span><span class="p">(</span><span class="s2">&quot;%H:%M&quot;</span><span class="p">),</span> <span class="n">msg</span> <span class="o">]</span>
   <span class="k">end</span>
<span class="k">end</span>
</td></tr></tbody></table></pre><p />

<h3 id="driver">Driver</h3>

<p>You need to have one. It needs to be in a separate file. You will be running it all the time. I like to pretend it’s C, so I put in a <strong>main()</strong> method.</p>

<p>Use <strong>require_relative</strong> to include custom modules and classes in the project directory and subdirectories. You can log directly using <strong>Log</strong>. It’s wise to keep this ultra-simple. A driver is a place to move code <strong>out</strong> of and into classes or modules. Whatever is left behind should just be a skeleton of commands. You could say a driver is a client that execrises the API in some way, and you’d be correct. But don’t think of it like that. It’s the main operational recipe of your program, and deals with <strong>phases</strong> of execution. Big-picture stuff only.</p>

<pre class="highlight ruby"><table><tbody><tr><td class="gutter gl"><div class="lineno">1</div><div class="lineno">2</div><div class="lineno">3</div><div class="lineno">4</div><div class="lineno">5</div><div class="lineno">6</div><div class="lineno">7</div><div class="lineno">8</div><div class="lineno">9</div><div class="lineno">10</div><div class="lineno">11</div><div class="lineno">12</div><div class="lineno">13</div><div class="lineno">14</div><div class="lineno">15</div><div class="lineno">16</div><div class="lineno">17</div><div class="lineno">18</div><div class="lineno">19</div><div class="lineno">20</div><div class="lineno">21</div></td><td class="code"><span class="n">require_relative</span> <span class="s1">&#39;&lt;project&gt;Logger.rb&#39;</span>
<span class="n">require_relative</span> <span class="s1">&#39;&lt;project&gt;Args.rb&#39;</span>

<span class="no">Log</span> <span class="o">=</span> <span class="no">MyProjectLogger</span><span class="nf">.new</span><span class="p">(</span><span class="no">STDERR</span><span class="p">)</span>
<span class="no">Log</span><span class="nf">.level</span> <span class="o">=</span> <span class="no">MyProjectLogger</span><span class="o">::</span><span class="no">DEBUG</span>

<span class="k">def </span><span class="nf">main</span><span class="p">()</span>

   <span class="c1">## cleanup old junk, check for duplicate instances of program, etc.</span>

   <span class="c1">## obtain and validate command line arguments</span>
   <span class="n">args</span> <span class="o">=</span> <span class="no">MyProjectArgs</span><span class="nf">.new</span><span class="p">(</span><span class="no">ARGV</span><span class="p">)</span>
   <span class="n">args</span><span class="nf">.run</span>

   <span class="c1">## read configuration file options</span>

   <span class="c1">## start modules, threads, whatever and wait on some condition</span>
   <span class="c1">## loop or sleep or something...</span>
<span class="k">end</span>

<span class="n">main</span> <span class="c1"># &lt;--- Where program begins.</span>
</td></tr></tbody></table></pre><p />

<h3 id="argument-handler">Argument Handler</h3>

<p>You could use frameworks, but if you keep your arguments <strong>out of</strong> the command line and <em>in</em> a configuration file, you only have to deal with a simple argument validation class. The whole purpose of this class is to exit early on invalid user input. One of the arguments you handle here should always be the path to your configuration file. I also like a <strong>mode=</strong> option. It’s like an “anything else I might want to add later” card.</p>

<pre class="highlight ruby"><table><tbody><tr><td class="gutter gl"><div class="lineno">1</div><div class="lineno">2</div><div class="lineno">3</div><div class="lineno">4</div><div class="lineno">5</div><div class="lineno">6</div><div class="lineno">7</div><div class="lineno">8</div><div class="lineno">9</div><div class="lineno">10</div><div class="lineno">11</div><div class="lineno">12</div><div class="lineno">13</div><div class="lineno">14</div><div class="lineno">15</div><div class="lineno">16</div><div class="lineno">17</div><div class="lineno">18</div><div class="lineno">19</div><div class="lineno">20</div><div class="lineno">21</div><div class="lineno">22</div><div class="lineno">23</div><div class="lineno">24</div><div class="lineno">25</div><div class="lineno">26</div><div class="lineno">27</div><div class="lineno">28</div><div class="lineno">29</div><div class="lineno">30</div><div class="lineno">31</div></td><td class="code"><span class="k">class </span><span class="nc">MyProjectArgs</span>

   <span class="kp">attr_reader</span> <span class="ss">:argv</span><span class="p">,</span> <span class="ss">:mode</span><span class="p">,</span> <span class="ss">:config</span>

   <span class="k">def </span><span class="nf">initialize</span><span class="p">(</span><span class="n">argv</span><span class="p">)</span>
      <span class="vi">@argv</span> <span class="o">=</span> <span class="n">argv</span>
      <span class="vi">@mode</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="vi">@config</span> <span class="o">=</span> <span class="kp">nil</span>
   <span class="k">end</span>

   <span class="k">def </span><span class="nf">run</span><span class="p">()</span>

      <span class="n">argv</span><span class="nf">.each</span> <span class="k">do</span> <span class="o">|</span><span class="n">arg</span><span class="o">|</span>
         <span class="k">case</span> <span class="n">arg</span>

            <span class="k">when</span> <span class="sr">/mode=(.+)/i</span>
               <span class="vi">@mode</span> <span class="o">=</span> <span class="vg">$1</span>
               <span class="k">if</span> <span class="n">mode</span> <span class="o">!=</span> <span class="s2">&quot;standalone&quot;</span>
                  <span class="no">Log</span><span class="nf">.error</span> <span class="s2">&quot;Wrong mode assigned [</span><span class="si">#{</span><span class="n">arg</span><span class="si">}</span><span class="s2">]&quot;</span>
               <span class="k">end</span>

            <span class="k">when</span> <span class="sr">/config=(.+)/i</span>
               <span class="k">if</span> <span class="n">not</span> <span class="no">File</span><span class="nf">.exist?</span> <span class="vg">$1</span>
                  <span class="no">Log</span><span class="nf">.error</span> <span class="s2">&quot;Config file [</span><span class="si">#{</span><span class="vg">$1</span><span class="si">}</span><span class="s2">]doesn&#39;t exist, [</span><span class="si">#{</span><span class="n">arg</span><span class="si">}</span><span class="s2">]&quot;</span>
               <span class="k">else</span>
                  <span class="vi">@config</span><span class="o">=</span><span class="vg">$1</span>
               <span class="k">end</span>
         <span class="k">end</span>
      <span class="k">end</span>
   <span class="k">end</span>
<span class="k">end</span>
</td></tr></tbody></table></pre><p />

<h4 id="configuration-file">Configuration File</h4>

<p>This can be tough because it is a database. Which means design. On one hand, you ideally need <code>&lt;variable&gt; = &lt;value&gt;</code> fields. On the other hand, you also need sections of configuration options, and defaults. I typically think of Windows <strong>.ini files</strong> as being the easiest, most straightforward way of doing this, but consider this possibility: using a Ruby Module to store values which can be later accessed in a struct.</p>

<p>Ruby has such a clean syntax, its code is almost like configuration. Why not leverage the mechanisms of modules to play the role of a simple configuration file with sections of keys/values?</p>

<pre class="highlight ruby"><table><tbody><tr><td class="gutter gl"><div class="lineno">1</div><div class="lineno">2</div><div class="lineno">3</div><div class="lineno">4</div><div class="lineno">5</div><div class="lineno">6</div><div class="lineno">7</div><div class="lineno">8</div><div class="lineno">9</div><div class="lineno">10</div><div class="lineno">11</div><div class="lineno">12</div><div class="lineno">13</div><div class="lineno">14</div><div class="lineno">15</div><div class="lineno">16</div><div class="lineno">17</div><div class="lineno">18</div><div class="lineno">19</div><div class="lineno">20</div><div class="lineno">21</div><div class="lineno">22</div><div class="lineno">23</div><div class="lineno">24</div><div class="lineno">25</div><div class="lineno">26</div><div class="lineno">27</div><div class="lineno">28</div><div class="lineno">29</div><div class="lineno">30</div><div class="lineno">31</div><div class="lineno">32</div><div class="lineno">33</div><div class="lineno">34</div><div class="lineno">35</div><div class="lineno">36</div><div class="lineno">37</div><div class="lineno">38</div><div class="lineno">39</div><div class="lineno">40</div><div class="lineno">41</div><div class="lineno">42</div><div class="lineno">43</div><div class="lineno">44</div><div class="lineno">45</div><div class="lineno">46</div><div class="lineno">47</div><div class="lineno">48</div><div class="lineno">49</div><div class="lineno">50</div><div class="lineno">51</div><div class="lineno">52</div><div class="lineno">53</div><div class="lineno">54</div><div class="lineno">55</div><div class="lineno">56</div><div class="lineno">57</div><div class="lineno">58</div><div class="lineno">59</div><div class="lineno">60</div><div class="lineno">61</div></td><td class="code">
<span class="c1"># source: http://aphyr.com/posts/173-monkeypatching-is-for-wimps-use-set-trace-func</span>

<span class="nb">require</span> <span class="s1">&#39;ostruct&#39;</span>

<span class="n">opts</span> <span class="o">=</span> <span class="no">OpenStruct</span><span class="nf">.new</span>

<span class="k">module</span> <span class="nn">Institutions</span>
  <span class="k">def </span><span class="nf">Zoo</span>
    <span class="n">date_open</span><span class="o">=</span><span class="s2">&quot;March&quot;</span>
    <span class="n">date_closed</span><span class="o">=</span><span class="s2">&quot;Feb&quot;</span>
    <span class="n">a</span> <span class="o">=</span> <span class="s2">&quot;Value for opt.zoo.aa&quot;</span>
    <span class="n">b</span> <span class="o">=</span> <span class="s2">&quot;Value for opt.zoo.b&quot;</span>
    <span class="n">c</span> <span class="o">=</span> <span class="s2">&quot;Value for opt.zoo.c&quot;</span>
    <span class="n">d</span> <span class="o">=</span> <span class="s2">&quot;Value for opt.zoo.d&quot;</span>
  <span class="k">end</span>

  <span class="k">def </span><span class="nf">Railroad</span>
    <span class="n">date_open</span><span class="o">=</span><span class="s2">&quot;1970&quot;</span>
    <span class="n">date_closed</span><span class="o">=</span><span class="s2">&quot;1980&quot;</span>
    <span class="n">a</span> <span class="o">=</span> <span class="mi">1000001</span>
    <span class="n">b</span> <span class="o">=</span> <span class="mi">2000002</span>
    <span class="n">c</span> <span class="o">=</span> <span class="mi">3000003</span>
    <span class="n">d</span> <span class="o">=</span> <span class="mi">4000004</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">class </span><span class="nc">A</span>
   <span class="kp">extend</span> <span class="no">Institutions</span>
<span class="k">end</span>

<span class="c1"># get sections (&quot;def &lt;section&gt;&quot; parts of code) and deepen the OpenStruct</span>

<span class="n">funcs</span> <span class="o">=</span> <span class="no">Institutions</span><span class="nf">.instance_methods</span> <span class="kp">false</span>
<span class="n">funcs</span><span class="nf">.each</span> <span class="p">{</span> <span class="o">|</span><span class="nb">name</span><span class="o">|</span> <span class="n">opts</span><span class="nf">.send</span><span class="p">(</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="nb">name</span><span class="si">}</span><span class="s2">=&quot;</span><span class="p">,</span> <span class="no">OpenStruct</span><span class="nf">.new</span> <span class="p">)</span> <span class="p">}</span>

<span class="c1"># trace each assignment inconfig file as it is &quot;executed&quot;, filtering junk</span>

<span class="nb">set_trace_func</span> <span class="nb">proc</span> <span class="p">{</span> <span class="o">|</span><span class="n">event</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="nb">id</span><span class="p">,</span> <span class="nb">binding</span><span class="p">,</span> <span class="n">classname</span><span class="o">|</span> <span class="c1"># trace on</span>
   <span class="k">if</span> <span class="n">opts</span><span class="o">[</span><span class="nb">id</span><span class="nf">.to_s</span><span class="o">]</span>
      <span class="n">locals</span> <span class="o">=</span> <span class="nb">binding</span><span class="nf">.eval</span><span class="p">(</span> <span class="s2">&quot;local_variables&quot;</span> <span class="p">)</span>
      <span class="n">locals</span><span class="nf">.each</span> <span class="p">{</span> <span class="o">|</span><span class="n">var</span><span class="o">|</span>
         <span class="n">val</span> <span class="o">=</span> <span class="nb">binding</span><span class="nf">.eval</span><span class="p">(</span> <span class="n">var</span><span class="nf">.to_s</span> <span class="p">)</span>
         <span class="n">section</span> <span class="o">=</span> <span class="n">opts</span><span class="nf">.send</span><span class="p">(</span> <span class="nb">id</span> <span class="p">)</span>
         <span class="n">section</span><span class="nf">.send</span><span class="p">(</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="n">var</span><span class="si">}</span><span class="s2">=&quot;</span><span class="p">,</span> <span class="n">val</span> <span class="p">)</span> <span class="c1"># assign to correct section in OpenStruct</span>
      <span class="p">}</span>
   <span class="k">end</span>
<span class="p">}</span>

<span class="c1"># &quot;run&quot; each section of configuration file</span>
<span class="n">funcs</span><span class="nf">.each</span> <span class="p">{</span> <span class="o">|</span><span class="n">meth</span><span class="o">|</span> <span class="n">A</span><span class="nf">.send</span> <span class="n">meth</span> <span class="p">}</span>

<span class="c1"># trace off</span>
<span class="nb">set_trace_func</span><span class="p">(</span><span class="kp">nil</span><span class="p">)</span>


<span class="c1"># some proof of concept it works...</span>
<span class="nb">puts</span> <span class="n">opts</span><span class="o">.</span><span class="no">Zoo</span><span class="nf">.date_open</span>
<span class="nb">puts</span> <span class="n">opts</span><span class="o">.</span><span class="no">Railroad</span><span class="nf">.date_open</span>
<span class="nb">puts</span> <span class="n">opts</span><span class="o">.</span><span class="no">Zoo</span><span class="nf">.a</span>
<span class="nb">puts</span> <span class="n">opts</span><span class="o">.</span><span class="no">Railroad</span><span class="nf">.a</span>
</td></tr></tbody></table></pre><p />

<p>Above, we have some blobs of monkeypatch code that handles simple configuration options contained in a module that has sections of configuration options. A demo configuration module called <strong>Institutions</strong> is defined, and contains sections <strong>Zoo</strong> and <strong>Railroad</strong>. Within each section are values assigned to keys. <strong>Class A</strong> uses the config module by <strong>extending</strong> it. The configuration logic acts upon Class A to get the options out of the file. The options are then directly accessible by: <code>opts.&lt;section&gt;.&lt;variable&gt;</code></p>

<p>We load the module, grab the sections and drill separate rooms for each in the OpenStruct, flip on <code>set_trace_func</code> and run each sectionof the config file, transferring the loot from the module into the OpenStruct. We then flip off the trace, and voila! All configuration options are conveniently available in dot-notation!</p>

<p>This of course is very limited, but the concept is comparatively clean and sensible. No external dependencies. No explicit file reads or decisions to make about format.</p>

<p>Now the Munchkins are happy. We can move on with the project!</p>

      </article>
      <footer class="footer clearfix">
	<div class="contact">
		<p class="details">Contact me, if that's what you want.</p>
	</div>
	<div class="links">
		<ul class="clearfix">
			<li class="details"><a href="/posts/2013.html">Archive</a></li>
			<li class="details"><a href="/rss.rss">RSS</a></li>
			<li class="details"><a href="mailto:allanbowhill@yahoo.com">Contact</a></li>
		</ul>
	</div>
</footer>

    </div>
  </body>
</html>
