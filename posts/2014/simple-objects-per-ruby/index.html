<!doctype html>
<!--[if lte IE 7]>
  <meta http-equiv="refresh" content="0" url="http://browsehappy.com/" />
  <script type="text/javascript">
  /* <![CDATA[ */
  window.top.location = 'http://browsehappy.com/';
  /* ]]> */
  </script>
<![endif]-->
<!--[if IE 8]><html class="ie8"> <![endif]-->
<!--[if gt IE 8]><!--><html class="gt-ie8"><!--<![endif]-->
  
  <head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta http-equiv="cleartype" content="on">
    <meta name="author" content="">
    <meta name="description" content="Syntaxfx">

    <title>Building Simple, Useful Object-Programs with Perl | Syntax FX</title>
    <link href="../../../stylesheets/screen.css" media="screen" rel="stylesheet" type="text/css" />
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js" type="text/javascript"></script>
<script src="../../../javascripts/core.js" type="text/javascript"></script>
    <script type="text/javascript">
      WebFontConfig = {
         google: { families: [ 'IM+Fell+DW+Pica+SC::latin', 'Averia+Gruesa+Libre::latin', 'Asap::latin', 'Noto+Sans::latin' ] }
      };
      (function() {
        var wf = document.createElement('script');
        wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
          '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
        wf.type = 'text/javascript';
        wf.async = 'true';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(wf, s);
      })(); 
    </script>
    <!--[if lt IE 9]>
      <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link href="../../../images/favicon.png" rel="icon" type="image/png" />
    <link href="../../../images/favicon.ico" rel="icon" type="image/ico" />
<!-- MathJax Library -->
<script type="text/javascript" src="https://c328740.ssl.cf1.rackcdn.com/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG"> </script>
  </head>
  
  <body lang="en">
    <div id="container">
      <header>
        <h1>
<svg xmlns:xlink="http://www.w3.org/1999/xlink 
  width="850" height="200" viewBox="0 0 850 200" 
  preserveAspectRatio="slice">

  <a xlink:href="/" xlink:show="replace">
  <style type="text/css">
     rect:hover {fill:green}
     circle:hover {fill:green}
     text:hover {fill:green}
  </style>
     <rect width="850" height="200" 
        fill="#D6302B" fill-opacity="1.0" 
        stroke="black" stroke-width="1" />
     <circle cx="550" cy="100" r="140" 
        fill="#E85832" fill-opacity="1.0" 
        stroke="black" stroke-width="10" />
     <circle cx="550" cy="100" r="100" 
        fill="#FF7A26" fill-opacity="1.0" 
        stroke="black" stroke-width="3" />
     <circle cx="550" cy="100" r="60" 
        fill="#E8AE63" fill-opacity="1.0" 
        stroke="black" stroke-width="5" />
     <circle cx="550" cy="100" r="30" 
        fill="green" fill-opacity="1.0" 
        stroke="black" stroke-width="10" />
     <text x="0" y="195" font-size="180" text-anchor="left" 
        fill="#FFC33B" stroke="black" 
        stroke-width="3">Syntax FX</text>
  </a>
</svg>
</h1>
  <div id="intro">
     <p class="subTitle details">Tech Blog by Allan Bowhill.</p>
  </div>

        <nav class="clearfix">
          <div class="navButton button previousButton">
            <a class="previous details" href="/posts/2013/Intellij-setup-scala-linux/"><i class="icon-backward left-more"></i>Earlier</a>
          </div>
          
          
            <div class="navButton button nextButton">
              <a href="/posts/2013/index.html" class="next details">Archive<i class="icon-reorder right-more"></i></a>
            </div>
          
         <span class="navLinks details"><a href="http://twitter.com"><i class="icon-twitter"></i>Twitter</a><a href="/rss.rss"><i class="icon-rss"></i>RSS</a><a class="last" href="mailto:blank@blank.com"><i class="icon-envelope-alt"></i>Contact</a></span>
        </nav>
      </header>
      <article class="single">
        <h2><a href="/posts/2014/simple-objects-per-ruby/">Building Simple, Useful Object-Programs with Perl</a></h2>
        <span class="postDetails clearfix"><time class="date details">Feb 24 2014</time><span class="tagLinks details">Tags: 	
	  <span class="tags"><a class="tags" href="/posts/tags/perl/">perl</a></span>
	
	  <span class="tags"><a class="tags" href="/posts/tags/ruby/">ruby</a></span>
	
	  <span class="tags"><a class="tags" href="/posts/tags/object/">object</a></span>
	</span></span>
        <p>The Perl language was not originally designed to do object-oriented programming. In its design evolution a set of mechanisms has been retrofitted to give it some objective-features. Both Ruby and Perl are capable of solving programming problems spanning a wide berth of complexity. However, when a project becomes large enough (say over 1000 lines of code), basic OO-principles like modularization, encapsulation and Separation of Concerns enter the picture.</p>

<p>Software development is notoriously difficult to plan and map out accurately. Since you never really know how complex a project will end up being, requirements can change over time. You have to be confident the tools you’re using will scale up to unknown tasks in later stages of development. The most Perl I’ve seen in one file was 18,000 lines of procedural code. This was someone else’s work, but it is not unusual to come across Perl projects with tens of modules in them, and I have worked with one or two medium-sized projects like this. Needless to say, most Perl projects are somewhat small because people don’t generally like to deal with tons of Perl.</p>

<p>But sometimes you have to do The Big Porgram Thing, and being able to divide code into meaningful modules or objects and interfaces is a valuable asset for organizing your code and maintaining sanity.</p>

<p>Truth be told, OO-Perl involves a lot of scaffolding, like 99%. There are over 10 uniquely different and nasty ways to make Perl “do” objects with progressive levels of sophistication. If you have read <em>Damian Conway’s</em> book: <em>Object-Oriented Perl</em>, and surfed the manpages you should have a pretty good idea of what kind of treat you have in store for you.</p>

<p>The syntax of the scaffolding is not straightforward, and bears considerable explanation. You therefore must be a lover of books. Fortunately, you only have to “do” the scaffolding once, and can re-use it in your project’s classes. Keeping to a simplified definition of Objects and classes makes for an easier time. If you omit some of the more subtley-corrupting ideas of OO-programming, such as <em>classical inheritance</em>, <em>type-casting</em>, <em>exceptions</em>, <em>method overrides</em>, etc. you can still use <em>encapsulation</em>, <em>has-a relationships</em>, <em>simple design patterns</em>, <em>abstract interfaces</em> and use Separation of Concerns and other principles to your advantage without too many problems.</p>

<p>Perl can be incredibly useful for fairly large projects if you are selective about which 00-approaches to adopt. Note that in most cases, useing a language like Ruby for the same thing will be <em>much</em> easier to read and write, and much cleaner. It’s been my experience that they both take about the same time to write equivalent code, but Perl involves a lot of back-reading and document consulting to make the right scaffolding choices.</p>

<p>I mentioned earlier that Perl has many ways to implement objects and classes. This turns out not to be all that good a thing for consistency’s sake, so you should stick with your choices. As the complexity of scaffolding increases to accomodate this OO-feature or that, the backreading and concept-bloat increases, similar in concpetual difficulty to some of the under-the-hood details of the <em>Scala</em> language. With <em>Perl</em> building capacity into sophisticated objects can be like weaving an elaborate lie; conflicts and inconsistencies creep into your tale as it becomes more complex.</p>

<p>First, on a scale of 1-10 of Perl object-oriented sophistication, the following driver file and class file rate 2/10: simple. It is a <em>HelloWorld</em> program. Each piece of code resides in a separate file in the same directory. You run the driver from the command line, and it calls into the class to do the dirty-work. This is basic file-level encapsulation. If you’re not doing this in any OO-language, you are being a slob. </p>

<p><strong>HelloWorld in 10 lines of code and 2 files</strong></p>

<p>The Driver (you can name it anything)</p>

<pre class="highlight text"><table><tbody><tr><td class="gutter gl"><div class="lineno">1</div><div class="lineno">2</div><div class="lineno">3</div><div class="lineno">4</div><div class="lineno">5</div></td><td class="code"># Driver

use HelloWorld;
my $obj = HelloWorld-&gt;new();
print $obj-&gt;message();
</td></tr></tbody></table></pre><p />

<p>The Class (must be named HelloWorld.pm)</p>

<pre class="highlight text"><table><tbody><tr><td class="gutter gl"><div class="lineno">1</div><div class="lineno">2</div><div class="lineno">3</div><div class="lineno">4</div><div class="lineno">5</div><div class="lineno">6</div><div class="lineno">7</div><div class="lineno">8</div><div class="lineno">9</div><div class="lineno">10</div><div class="lineno">11</div><div class="lineno">12</div><div class="lineno">13</div><div class="lineno">14</div><div class="lineno">15</div><div class="lineno">16</div></td><td class="code"># OO Class Module

package HelloWorld;

sub new
   {
   bless { msg =&gt; &quot;hello world&quot; }, shift;
   }

sub message
   {
   my $a = shift;
   return $a-&gt;{msg};
   }

1;
</td></tr></tbody></table></pre><p />

<p>Explanation. The driver has a <code>use HelloWorld;</code> statement which imports the HelloWorld class file so it can be accessed.</p>

<p>The <code>my $obj = HelloWorld-&gt;new();</code> line is a call to the object’s constructor subroutine: named <em>new()</em>. This is a convention. The constructor can be named anything you like, but “new” suggests object creation and is self-documenting to many people. When this line is executed, an instance of the class is created (an object) which is stored as a reference in local scalar variable <em>$obj</em> (in this case $obj holds a hash reference, explained later). </p>

<p>The last line in the driver calls a method in the object named <strong>message</strong>, which it then prints to standard output, and the program ends.</p>

<p>In order to understand the driver, you need to know about Perl’s data types, what a reference to a data structure is, and about accessing information stored in data structure references with the ‘-&gt;’ arrow-operator. <sup id="fnref:1"><a href="#fn:1" class="footnote">1</a></sup></p>

<p>Ok, onto the second part of the explanation, the class file, <strong>HelloWorld.pm</strong> <sup id="fnref:2"><a href="#fn:2" class="footnote">2</a></sup> <sup id="fnref:3"><a href="#fn:3" class="footnote">3</a></sup></p>

<p>It is here we encounter the first of a few oddities with Perl’s object implementation, the <strong>Package</strong> declaration near the top of the file. Perl implements class definitions as unique namespaces. The package declaration <strong>is</strong> the class declaration. Since we have achieved some separation at the file level, this namespace applies only to the entire file, HelloWorld.pm. Note the namespace matches the filename. Also note the entire file is also a bona-fide Perl module, and ends with a <strong>1</strong> to return <em>true</em> to things that evaluate it. Note also the filename ends in <strong>.pm</strong>, indicating it is a (P)erl (M)odule. You don’t run code directly in modules. You include modules in other code, and make calls from from there. So, this module is not a standalone program. It is a class that uses the library idiom. No <em>Export</em> or other directives are required as with regular Perl modules. Object-oriented code doesn’t need that particular scaffolding.</p>

<p>The next block of code (the <strong>new()</strong> sub) is the constructor. It is named new by convention so people understand this function serves as the constructor. It is the only entrypoint to this module, and the only class-level method that should be run by calling code from the outside.</p>

<p>Inside the constructor we have one line of code to initialize an object. It is a call to the <strong>bless()</strong> function. This is the second oddity of Perl objects. Bless makes an object out of the class namespace by blessing a reference (usually to a data structure) into the namespace. The data structure in this case is a hash reference holding a key/value pair. The key/value pair represents a settable property or attribute of the object and its value. Once <strong>bless</strong> blesses the structure into the namespace, that structure and all the instance methods listed in the file become part of the object reference it returns. Its return value ends the construction process, so it’s the last step in the constructor. In the two-argument form, <strong>bless</strong> takes two arguments, the first being a reference, and the second being the name of the class. </p>

<p>When a line of code calls a method in Perl-OO, the name of the class it’s calling the method on is included as a string in the first parameter to the function being called. Parameters are always passed as arrays to functions in Perl, so the name of the targeted class or object is always <code>@_[0]</code>. The rest of the parameters (if any) follow in subsequent indexes of the array starting at <code>@_[1]</code>. This also applies to the constructor, which is just a function that recieves parameters. This is why <code>shift</code> is used here. It pops-off the first item in the implicit argument array, which is always <code>@_[0]</code>. This is the string <strong>HelloWorld</strong>, from <code>HelloWorld-&gt;new()</code> which is what appears to the left of the arrow-operator in the second line of the driver. In this case, <strong>HelloWorld</strong>’s <strong>new()</strong> is what is being called, so the <em>new</em> function that recieves it knows how the name of the class is being expressed. More Perl oddity.</p>

<p>The last code block in the class is <strong>sub message()</strong> which is simply an instance method to return the contents of the <strong>msg</strong> attribute defined in the constructor. It is called via the intialized object.</p>

<p><strong>Hey Let’s get more complex scaffolding in place</strong></p>

<p>To make a practical starting template for classes, we will resort to adding in more sophistication. This class hits about a 4 or a 5 on the sophistication meter, and can be used as a cut-and-paste template for real projects. It has a few more OO-features and extra robustness for common cases of use. </p>

<p>Keeper class: (Keeper.pm)</p>

<pre class="highlight text"><table><tbody><tr><td class="gutter gl"><div class="lineno">1</div><div class="lineno">2</div><div class="lineno">3</div><div class="lineno">4</div><div class="lineno">5</div><div class="lineno">6</div><div class="lineno">7</div><div class="lineno">8</div><div class="lineno">9</div><div class="lineno">10</div><div class="lineno">11</div><div class="lineno">12</div><div class="lineno">13</div><div class="lineno">14</div><div class="lineno">15</div><div class="lineno">16</div><div class="lineno">17</div><div class="lineno">18</div><div class="lineno">19</div><div class="lineno">20</div><div class="lineno">21</div><div class="lineno">22</div><div class="lineno">23</div><div class="lineno">24</div><div class="lineno">25</div><div class="lineno">26</div><div class="lineno">27</div><div class="lineno">28</div><div class="lineno">29</div><div class="lineno">30</div><div class="lineno">31</div><div class="lineno">32</div><div class="lineno">33</div><div class="lineno">34</div><div class="lineno">35</div><div class="lineno">36</div><div class="lineno">37</div><div class="lineno">38</div><div class="lineno">39</div><div class="lineno">40</div><div class="lineno">41</div><div class="lineno">42</div><div class="lineno">43</div><div class="lineno">44</div><div class="lineno">45</div><div class="lineno">46</div><div class="lineno">47</div><div class="lineno">48</div><div class="lineno">49</div><div class="lineno">50</div><div class="lineno">51</div><div class="lineno">52</div><div class="lineno">53</div><div class="lineno">54</div></td><td class="code">package Keeper;

use strict;

   {
   my $_count = 0;
   sub _incr_count { ++$_count }
   sub _decr_count { --$_count }
   sub get_count   { $_count }
   }


sub new
   {
   my ($self,$args) = @_;

   my $class = ref ($self) || $self;

   my $properties =
      {
      _name   =&gt; $args-&gt;{name}   || &quot;&lt;unknown&gt;&quot;,
      _gender =&gt; $args-&gt;{gender} || &quot;&lt;unknown&gt;&quot;,
      };

   my $instance = bless $properties, $class;
   $class-&gt;_incr_count;

   return $instance;
   }


sub DESTROY
   {
   my $class = shift;
   $class-&gt;_decr_count;
   }


sub name
   {
   my ($obj,$arg) = @_;
   if ($arg) { $obj-&gt;{_name} = $arg }
   $obj-&gt;{_name};
   }


sub gender
   {
   my ($obj,$arg) = @_;
   if ($arg) { $obj-&gt;{_gender} = $arg; }
   $obj-&gt;{_gender};
   }

1;
</td></tr></tbody></table></pre><p />

<p>Driver for Keeper class: </p>

<pre class="highlight text"><table><tbody><tr><td class="gutter gl"><div class="lineno">1</div><div class="lineno">2</div><div class="lineno">3</div><div class="lineno">4</div><div class="lineno">5</div><div class="lineno">6</div><div class="lineno">7</div><div class="lineno">8</div><div class="lineno">9</div><div class="lineno">10</div><div class="lineno">11</div><div class="lineno">12</div><div class="lineno">13</div><div class="lineno">14</div><div class="lineno">15</div><div class="lineno">16</div><div class="lineno">17</div><div class="lineno">18</div><div class="lineno">19</div><div class="lineno">20</div><div class="lineno">21</div><div class="lineno">22</div><div class="lineno">23</div><div class="lineno">24</div><div class="lineno">25</div><div class="lineno">26</div><div class="lineno">27</div><div class="lineno">28</div></td><td class="code">require Zoo::Keeper;


MAIN:
   {
   my $zookeeper_1 = Keeper-&gt;new( {name=&gt;&quot;Fred&quot;,gender=&gt;&quot;Male&quot;} );
   inspect ($zookeeper_1);

   $zookeeper_1-&gt;name(&quot;Thomas&quot;);
   inspect ($zookeeper_1,&quot;\n[Changing name]\n&quot;);

   my $zookeeper_2 = Keeper-&gt;new( {name=&gt;&quot;Selma&quot;,gender=&gt;&quot;Female&quot;} );
   inspect ($zookeeper_2);

   my $zookeeper_3 = Keeper-&gt;new( {gender=&gt;&quot;Female&quot;} );
   inspect ($zookeeper_3);
   }


sub inspect
   {
   my ($obj,$msg) = @_;
   print $msg || &quot;\n[Creating object]\n&quot;;
   print &quot;Object: &quot;, $obj ? &quot;allocated&quot; : &quot;not allaocated&quot;,&quot;\n&quot;;
   print &quot;Name: &quot;, $obj-&gt;name,&quot;\n&quot;;
   print &quot;Gender: &quot;. $obj-&gt;gender,&quot;\n&quot;;
   print &quot;Count: &quot;, $obj-&gt;get_count, &quot;\n&quot;;
   }
</td></tr></tbody></table></pre><p />

<p>The intended directory structure for this pair of files is to name the driver anything you want, and store the driver in a top-level project directory. Below this directory, make a subdirectory called <code>Zoo</code>, and place the class file in there, naming it <code>Keeper.pm</code>. This sets a small example on how to address classes for import in a directory structure by using the <code>require Zoo::Keeper</code> to access Keeper.pm inside the Zoo subdirectory.</p>

<p>The main body of the driver is wrapped in a closure and labeled <code>MAIN:</code>. This is simply for visual organization and documentation. The MAIN function in the driver creates three zookeeper objects with different name and gender properties. It also changes one of the zookeeper names to exercise the setting option on one of the properties. It makes use of a small diagnostic output function <code>sub inspect</code> to printout what’s going on with the objects.</p>

<p>The class file itself uses <code>use strict;</code> as a robustness feature, which is followed by a closure containing class-level members. This is how Perl defines class methods and properties, inside closures. In this case a simple classwide object counter is implemented as a class property, and three accessors are used to increment, decrement and fetch the counter respectively.</p>

<p>The constructor handles multiple initialization arguments, but sticks to the common practice of passing in properties as a single hash reference, which has the feature of being self-documenting. Two properties <strong>name</strong> and <strong>gender</strong> are expected to be supplied by the calling code, using the keys <code>name</code> and <code>gender</code> and the passed values are stored in a property hash if the keys match. If one or all properties are not set, the constructor supplies the default value of <code>&lt;unknown&gt;</code>. This is a robustness feature.</p>

<p>The two-argument form of <code>bless()</code> is used to allow for inheritance via the <code>@isa</code> array, but the class is not otherwise structured to handle inheritance in any way. This should not be done unless you have a full reading of Damian Conway’s book to understand the pitfalls of using inheritance in OO-Perl. </p>

<p>The constructor increments the class object counter at object creation time, and the <code>sub DESTROY</code> method decrements the counter if one of the objects is destroyed. This is mainly for show, but should function and is logically required to maintain this type of class variable.</p>

<p>Read/write accessors for <strong>name</strong> and <strong>gender</strong> are supplied, and make a determination on whether the calling function is setting or getting the value, responding accordingly. The value is always returned irrespective of getting or setting.</p>

<p>Most of these idioms and forms come from Damian Conway’s book, Object Orient Perl, but a lot of my own stuff is added in. This is something I would probably use as a starting point at work, if I had to build a reasonably sized Perl project.</p>

<p>Below, I’ve included the rough Ruby equivalent of the above class and driver but won’t explain it, except by making the general observation that it took me just about as long to write, but Ruby syntax is so crisp, with almost no scaffolding that I just did coding and hardly any reading on syntactical oddities and workarounds. With Perl, alas, I spent a majority of my time reading and trying to remember particular oddities of the language in addition to writing / debugging code.</p>

<p>So if you want my honest opinion, don’t get seduced by CPAN or nice people who are enthusiasts of a terrible solution. Take it from me: <strong><em>go with Ruby if you any choice whatsoever</em></strong>. And I mean this advice to be taken in all seriousness of heart. Perl has had it. Although still quite useful, it’s seen its heyday. There are better scripting languages nowadays, (Ruby may be the best) which don’t have the shameful, hackish awfulness of OO-Perl.</p>

<p>Ruby Equivalent Driver:</p>

<pre class="highlight ruby"><table><tbody><tr><td class="gutter gl"><div class="lineno">1</div><div class="lineno">2</div><div class="lineno">3</div><div class="lineno">4</div><div class="lineno">5</div><div class="lineno">6</div><div class="lineno">7</div><div class="lineno">8</div><div class="lineno">9</div><div class="lineno">10</div><div class="lineno">11</div><div class="lineno">12</div><div class="lineno">13</div><div class="lineno">14</div><div class="lineno">15</div><div class="lineno">16</div><div class="lineno">17</div><div class="lineno">18</div><div class="lineno">19</div><div class="lineno">20</div><div class="lineno">21</div><div class="lineno">22</div><div class="lineno">23</div><div class="lineno">24</div></td><td class="code"><span class="n">require_relative</span> <span class="s2">&quot;Foo/Keeper.rb&quot;</span>

<span class="k">def </span><span class="nf">show</span><span class="p">(</span><span class="n">keeper</span><span class="p">,</span><span class="o">*</span><span class="n">msg</span><span class="p">)</span>
   <span class="k">if</span> <span class="p">(</span><span class="n">msg</span><span class="nf">.empty?</span><span class="p">)</span>
     <span class="n">msg</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="s2">&quot;[New object]&quot;</span>
   <span class="k">end</span>
   <span class="nb">puts</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span><span class="n">msg</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
   <span class="nb">puts</span> <span class="s2">&quot;Object &quot;</span> <span class="o">+</span> <span class="n">keeper</span><span class="nf">.works</span>
   <span class="nb">puts</span> <span class="s2">&quot;Count: &quot;</span> <span class="o">+</span> <span class="no">Keeper</span><span class="nf">.get_count</span>
   <span class="nb">puts</span> <span class="s2">&quot;Name: &quot;</span> <span class="o">+</span> <span class="n">keeper</span><span class="nf">.name</span>
   <span class="nb">puts</span> <span class="s2">&quot;Gender: &quot;</span> <span class="o">+</span> <span class="n">keeper</span><span class="nf">.gender</span>
<span class="k">end</span>

<span class="n">keeper_1</span> <span class="o">=</span> <span class="no">Keeper</span><span class="nf">.new</span><span class="p">(</span><span class="s2">&quot;Fred&quot;</span><span class="p">,</span><span class="s2">&quot;Male&quot;</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">keeper_1</span><span class="p">)</span>

<span class="n">keeper_1</span><span class="nf">.name</span> <span class="o">=</span> <span class="s2">&quot;Tim&quot;</span>
<span class="n">show</span><span class="p">(</span><span class="n">keeper_1</span> <span class="p">,</span> <span class="s2">&quot;[Name change]&quot;</span><span class="p">)</span>

<span class="n">keeper_2</span> <span class="o">=</span> <span class="no">Keeper</span><span class="nf">.new</span><span class="p">(</span><span class="s2">&quot;Selma&quot;</span><span class="p">,</span><span class="s2">&quot;Female&quot;</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">keeper_2</span><span class="p">)</span>

<span class="n">keeper_3</span> <span class="o">=</span> <span class="no">Keeper</span><span class="nf">.new</span><span class="p">(</span><span class="s2">&quot;Mary&quot;</span><span class="p">,</span><span class="s2">&quot;Female&quot;</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">keeper_3</span><span class="p">)</span>
</td></tr></tbody></table></pre><p />

<p>Ruby Equivalent Class File:</p>

<pre class="highlight ruby"><table><tbody><tr><td class="gutter gl"><div class="lineno">1</div><div class="lineno">2</div><div class="lineno">3</div><div class="lineno">4</div><div class="lineno">5</div><div class="lineno">6</div><div class="lineno">7</div><div class="lineno">8</div><div class="lineno">9</div><div class="lineno">10</div><div class="lineno">11</div><div class="lineno">12</div><div class="lineno">13</div><div class="lineno">14</div><div class="lineno">15</div><div class="lineno">16</div><div class="lineno">17</div><div class="lineno">18</div><div class="lineno">19</div><div class="lineno">20</div><div class="lineno">21</div><div class="lineno">22</div><div class="lineno">23</div><div class="lineno">24</div><div class="lineno">25</div><div class="lineno">26</div><div class="lineno">27</div><div class="lineno">28</div><div class="lineno">29</div></td><td class="code"><span class="k">class </span><span class="nc">Keeper</span>

   <span class="vc">@@count</span> <span class="o">=</span> <span class="mi">0</span>

   <span class="k">def </span><span class="nc">Keeper</span><span class="o">.</span><span class="nf">incr_count</span>
      <span class="vc">@@count</span> <span class="o">+=</span> <span class="mi">1</span>
   <span class="k">end</span>

   <span class="k">def </span><span class="nc">Keeper</span><span class="o">.</span><span class="nf">decr_count</span>
      <span class="vc">@@count</span> <span class="o">-=</span> <span class="mi">1</span>
   <span class="k">end</span>

   <span class="k">def </span><span class="nc">Keeper</span><span class="o">.</span><span class="nf">get_count</span>
      <span class="vc">@@count</span><span class="nf">.to_s</span>
   <span class="k">end</span>

   <span class="kp">attr_accessor</span> <span class="ss">:name</span><span class="p">,</span> <span class="ss">:gender</span>

   <span class="k">def </span><span class="nf">initialize</span><span class="p">(</span><span class="nb">name</span><span class="o">=</span><span class="s2">&quot;unknown&quot;</span><span class="p">,</span> <span class="n">gender</span><span class="o">=</span><span class="s2">&quot;unknown&quot;</span><span class="p">)</span>
      <span class="vi">@name</span> <span class="o">=</span> <span class="nb">name</span>
      <span class="vi">@gender</span> <span class="o">=</span> <span class="n">gender</span>
      <span class="no">Keeper</span><span class="nf">.incr_count</span>
   <span class="k">end</span>

   <span class="k">def </span><span class="nf">works</span>
      <span class="s2">&quot;works&quot;</span>
   <span class="k">end</span>

<span class="k">end</span>
</td></tr></tbody></table></pre><p />

<div class="footnotes">
  <ol>
    <li id="fn:1">
      <p>(1) To get to this level of knowledge, you’ll need to read the book (cover to cover): <strong>Learning Perl</strong> by Randal L. Schwartz, in my opinion the best technical book ever written for the uninitiated. You will also need to read <strong>Chapter 2 - Essential Perl</strong> of Damian Conway’s book <strong>Object Oriented Perl</strong> to understand what references are. Fortunately, Perl authors and the community as a whole has a sense of humor, so it’s a lot more fun to learn than it sounds. <a href="#fnref:1" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:2">
      <p>(2) A class is a blueprint which defines variables and functions closely (topically) related to one another in a package. An object is a live, usable copy of that package. In a program, you generally interact with objects. The code itself is defined by the class and does not change. <a href="#fnref:2" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:3">
      <p>(3) A basic class is like a <strong>blueprint</strong>. It is inactive, and just defines code. Only one function can be called directly on it from the outside: the <strong>constructor</strong>. The constructor, in this case is the <em>new</em> function. When outside code calls the constructor it is like a call to manufacture a working copy of the class from the blueprint. This working copy of the class is called an <strong>object</strong>. A fresh object is returned to the calling code by the constructor, and assigned to a <strong>variable</strong> so it can be interacted-with later. The variable in this case is the <strong>$obj</strong> variable, and is located in the driver. <a href="#fnref:3" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>

      </article>
      <footer class="footer clearfix">
	<div class="contact">
		<p class="details">Contact me, if that's what you want.</p>
	</div>
	<div class="links">
		<ul class="clearfix">
			<li class="details"><a href="/posts/2013.html">Archive</a></li>
			<li class="details"><a href="/rss.rss">RSS</a></li>
			<li class="details"><a href="mailto:allanbowhill@yahoo.com">Contact</a></li>
		</ul>
	</div>
</footer>

    </div>
  </body>
</html>
