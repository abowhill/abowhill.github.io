<!doctype html>
<!--[if lte IE 7]>
  <meta http-equiv="refresh" content="0" url="http://browsehappy.com/" />
  <script type="text/javascript">
  /* <![CDATA[ */
  window.top.location = 'http://browsehappy.com/';
  /* ]]> */
  </script>
<![endif]-->
<!--[if IE 8]><html class="ie8"> <![endif]-->
<!--[if gt IE 8]><!--><html class="gt-ie8"><!--<![endif]-->
  
  <head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta http-equiv="cleartype" content="on">
    <meta name="author" content="">
    <meta name="description" content="Syntaxfx">

    <title>Foo | Syntax FX</title>
    <link href="../../../stylesheets/screen.css" media="screen" rel="stylesheet" type="text/css" />
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js" type="text/javascript"></script>
<script src="../../../javascripts/core.js" type="text/javascript"></script>
    <script type="text/javascript">
      WebFontConfig = {
         google: { families: [ 'IM+Fell+DW+Pica+SC::latin', 'Averia+Gruesa+Libre::latin', 'Asap::latin', 'Noto+Sans::latin' ] }
      };
      (function() {
        var wf = document.createElement('script');
        wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
          '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
        wf.type = 'text/javascript';
        wf.async = 'true';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(wf, s);
      })(); 
    </script>
    <!--[if lt IE 9]>
      <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link href="../../../images/favicon.png" rel="icon" type="image/png" />
    <link href="../../../images/favicon.ico" rel="icon" type="image/ico" />
  </head>
  
  <body lang="en">
    <div id="container">
      <header>
        <h1>
<svg width="850" height="200" viewBox="0 0 850 200" preserveAspectRatio="slice">
  <rect width="850" height="200" fill="red" stroke="black" stroke-width="1" fill-opacity="0.9" />
  <circle cx="550" cy="100" r="140" fill="purple" fill-opacity="0.7" stroke="black" stroke-width="2" />
  <circle cx="550" cy="100" r="100" fill="red" fill-opacity="0.6" stroke="black" stroke-width="3" />
  <circle cx="550" cy="100" r="60" fill="yellow" fill-opacity="1.0" stroke="black" stroke-width="5" />
  <circle cx="550" cy="100" r="30" fill="white" fill-opacity="1.0" stroke="black" stroke-width="10" />
  <text x="0" y="195" font-size="180" text-anchor="left" fill="white" stroke="black" stroke-width="3">Syntax FX</text>
</svg>
</h1>
    <div id="intro">
     <p class="subTitle details">Tech Blog by Allan Bowhill.</p>
    </div>

        <nav class="clearfix">
          <div class="navButton button previousButton">
            <a class="previous details" href="/posts/2013/livin-the-good-life/"><i class="icon-backward left-more"></i>Earlier</a>
          </div>
          
          
            <div class="navButton button nextButton">
              <a href="/posts/2013/safe-secure-portable-remote-x-windows-in-the-browser/" class="next details">Later<i class="icon-forward right-more"></i></a>
            </div>
          
         <span class="navLinks details"><a href="http://twitter.com"><i class="icon-twitter"></i>Twitter</a><a href="/rss.rss"><i class="icon-rss"></i>RSS</a><a class="last" href="mailto:blank@blank.com"><i class="icon-envelope-alt"></i>Contact</a></span>
        </nav>
      </header>
      <article class="single">
        <h2><a href="/posts/2013/foo/">Foo</a></h2>
        <span class="postDetails clearfix"><time class="date details">Nov  1 2013</time><span class="tagLinks details">Tags: 	
	  <span class="tags"><a class="tags" href="/posts/tags/foo/">foo</a></span>
	</span></span>
        <h1 id="hi-there">Hi there.</h1>

<h2 id="hi-there-once-more">Hi there once more</h2>

<p>Hello there again.</p>

<h1 id="header-1">Header 1</h1>
<p>## Header 2
### Header 3
#### Header 4
##### Header 5
###### Header 6</p>

<blockquote>
  <p>BlockQuote
&gt; Nested BlockQuote</p>
</blockquote>

<pre class="highlight text"><table><tbody><tr><td class="gutter gl"><div class="lineno">1</div></td><td class="code">indented code block
</td></tr></tbody></table></pre>
<p>A paragraph</p>

<pre class="highlight ruby"><table><tbody><tr><td class="gutter gl"><div class="lineno">1</div><div class="lineno">2</div><div class="lineno">3</div></td><td class="code"><span class="k">def </span><span class="nf">arma</span><span class="p">(</span><span class="n">two</span><span class="p">)</span>
 <span class="c1"># Some ruby code</span>
<span class="k">end</span>
</td></tr></tbody></table></pre>
<p>A line separator:</p>

<hr />

<p>A <a href="http://www.twitter.com/nytimes" title="click me!">link</a> for your edification. No spaces between square brackets and parenthesis.</p>

<p>Now for a photograph: <img src="images/Smokey-in-chair.jpg" alt="Smokey" /> of my cat!</p>

<table rules="groups">
  <thead>
    <tr>
      <th style="text-align: left">Header1</th>
      <th style="text-align: center">Header2</th>
      <th style="text-align: right">Header3</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">cell1</td>
      <td style="text-align: center">cell2</td>
      <td style="text-align: right">cell3</td>
    </tr>
    <tr>
      <td style="text-align: left">cell4</td>
      <td style="text-align: center">cell5</td>
      <td style="text-align: right">cell6</td>
    </tr>
  </tbody>
  <tbody>
    <tr>
      <td style="text-align: left">cell1</td>
      <td style="text-align: center">cell2</td>
      <td style="text-align: right">cell3</td>
    </tr>
    <tr>
      <td style="text-align: left">cell4</td>
      <td style="text-align: center">cell5</td>
      <td style="text-align: right">cell6</td>
    </tr>
  </tbody>
  <tfoot>
    <tr>
      <td style="text-align: left">Foot1</td>
      <td style="text-align: center">Foot2</td>
      <td style="text-align: right">Foot3</td>
    </tr>
  </tfoot>
</table>

<p>Here is a footnote<sup id="fnref:1"><a href="#fn:1" class="footnote">1</a></sup> for some point.</p>

<p>A large syntax highlighting job:</p>

<pre class="highlight ruby"><table><tbody><tr><td class="gutter gl"><div class="lineno">1</div><div class="lineno">2</div><div class="lineno">3</div><div class="lineno">4</div><div class="lineno">5</div><div class="lineno">6</div><div class="lineno">7</div><div class="lineno">8</div><div class="lineno">9</div><div class="lineno">10</div><div class="lineno">11</div><div class="lineno">12</div><div class="lineno">13</div><div class="lineno">14</div><div class="lineno">15</div><div class="lineno">16</div><div class="lineno">17</div><div class="lineno">18</div><div class="lineno">19</div><div class="lineno">20</div><div class="lineno">21</div><div class="lineno">22</div><div class="lineno">23</div><div class="lineno">24</div><div class="lineno">25</div><div class="lineno">26</div><div class="lineno">27</div><div class="lineno">28</div><div class="lineno">29</div><div class="lineno">30</div><div class="lineno">31</div><div class="lineno">32</div><div class="lineno">33</div><div class="lineno">34</div><div class="lineno">35</div><div class="lineno">36</div><div class="lineno">37</div><div class="lineno">38</div><div class="lineno">39</div><div class="lineno">40</div><div class="lineno">41</div><div class="lineno">42</div><div class="lineno">43</div><div class="lineno">44</div><div class="lineno">45</div><div class="lineno">46</div><div class="lineno">47</div><div class="lineno">48</div><div class="lineno">49</div><div class="lineno">50</div><div class="lineno">51</div><div class="lineno">52</div><div class="lineno">53</div><div class="lineno">54</div><div class="lineno">55</div><div class="lineno">56</div><div class="lineno">57</div><div class="lineno">58</div><div class="lineno">59</div><div class="lineno">60</div><div class="lineno">61</div><div class="lineno">62</div><div class="lineno">63</div><div class="lineno">64</div><div class="lineno">65</div><div class="lineno">66</div><div class="lineno">67</div><div class="lineno">68</div><div class="lineno">69</div><div class="lineno">70</div><div class="lineno">71</div><div class="lineno">72</div><div class="lineno">73</div><div class="lineno">74</div><div class="lineno">75</div><div class="lineno">76</div><div class="lineno">77</div><div class="lineno">78</div><div class="lineno">79</div><div class="lineno">80</div><div class="lineno">81</div><div class="lineno">82</div><div class="lineno">83</div><div class="lineno">84</div><div class="lineno">85</div><div class="lineno">86</div><div class="lineno">87</div><div class="lineno">88</div><div class="lineno">89</div><div class="lineno">90</div><div class="lineno">91</div><div class="lineno">92</div><div class="lineno">93</div><div class="lineno">94</div><div class="lineno">95</div><div class="lineno">96</div><div class="lineno">97</div><div class="lineno">98</div><div class="lineno">99</div><div class="lineno">100</div><div class="lineno">101</div><div class="lineno">102</div><div class="lineno">103</div><div class="lineno">104</div><div class="lineno">105</div><div class="lineno">106</div><div class="lineno">107</div><div class="lineno">108</div><div class="lineno">109</div><div class="lineno">110</div><div class="lineno">111</div><div class="lineno">112</div><div class="lineno">113</div><div class="lineno">114</div><div class="lineno">115</div><div class="lineno">116</div><div class="lineno">117</div><div class="lineno">118</div><div class="lineno">119</div><div class="lineno">120</div><div class="lineno">121</div><div class="lineno">122</div><div class="lineno">123</div><div class="lineno">124</div><div class="lineno">125</div><div class="lineno">126</div><div class="lineno">127</div><div class="lineno">128</div><div class="lineno">129</div><div class="lineno">130</div><div class="lineno">131</div><div class="lineno">132</div><div class="lineno">133</div><div class="lineno">134</div><div class="lineno">135</div><div class="lineno">136</div><div class="lineno">137</div><div class="lineno">138</div><div class="lineno">139</div><div class="lineno">140</div><div class="lineno">141</div><div class="lineno">142</div><div class="lineno">143</div><div class="lineno">144</div><div class="lineno">145</div><div class="lineno">146</div><div class="lineno">147</div><div class="lineno">148</div><div class="lineno">149</div><div class="lineno">150</div><div class="lineno">151</div><div class="lineno">152</div><div class="lineno">153</div><div class="lineno">154</div><div class="lineno">155</div><div class="lineno">156</div><div class="lineno">157</div><div class="lineno">158</div><div class="lineno">159</div><div class="lineno">160</div><div class="lineno">161</div><div class="lineno">162</div><div class="lineno">163</div><div class="lineno">164</div><div class="lineno">165</div><div class="lineno">166</div><div class="lineno">167</div><div class="lineno">168</div><div class="lineno">169</div><div class="lineno">170</div><div class="lineno">171</div><div class="lineno">172</div><div class="lineno">173</div><div class="lineno">174</div><div class="lineno">175</div><div class="lineno">176</div><div class="lineno">177</div><div class="lineno">178</div><div class="lineno">179</div></td><td class="code"><span class="nb">require</span> <span class="s1">&#39;find&#39;</span>

<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1"># Dumps full paths to existing files and directories specified in </span>
<span class="c1"># configuration file, which can be piped to an archiving utility </span>
<span class="c1"># like pax.</span>
<span class="c1">#</span>
<span class="c1"># Usage: backup.rb &lt;configuration file&gt;</span>
<span class="c1">#</span>
<span class="c1"># Example:</span>
<span class="c1">#</span>
<span class="c1">#  (create a backup archive)</span>
<span class="c1">#  root# ruby backup.rb backup.conf | pax -w -d -f archive.pax</span>
<span class="c1">#  root# pax -v -f archive.pax </span>
<span class="c1">#  root# gzip archive.pax</span>
<span class="c1">#  </span>
<span class="c1">#  (restore a backup to system, replacing exsting files)</span>
<span class="c1">#  root# gunzip archive.pax.gz</span>
<span class="c1">#  root# pax -d -r -v -pe -f archive.pax</span>


<span class="c1"># Configuration object: holds references to [[sections]] in configuration file</span>

<span class="k">class </span><span class="nc">Configuration</span>
   <span class="kp">attr_accessor</span> <span class="ss">:file</span><span class="p">,</span> <span class="ss">:current_section</span><span class="p">,</span> <span class="ss">:sections</span>

   <span class="k">def </span><span class="nf">initialize</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
     <span class="vi">@file</span> <span class="o">=</span> <span class="n">filename</span>
     <span class="vi">@sections</span> <span class="o">=</span> <span class="p">{}</span>
     <span class="n">current_section</span> <span class="o">=</span> <span class="kp">nil</span>
   <span class="k">end</span>

   <span class="k">def </span><span class="nf">add</span><span class="p">(</span><span class="n">section</span><span class="p">)</span>
     <span class="vi">@sections</span><span class="o">[</span><span class="n">section</span><span class="nf">.name.to_sym</span><span class="o">]=</span><span class="n">section</span>
     <span class="vi">@current_section</span> <span class="o">=</span> <span class="n">section</span>
   <span class="k">end</span>

   <span class="k">def </span><span class="nf">clean</span><span class="p">(</span><span class="n">str</span><span class="p">)</span>
      <span class="n">ret_str</span> <span class="o">=</span> <span class="n">str</span><span class="p">;</span>
      <span class="n">ret_str</span><span class="nf">.chomp!</span>
      <span class="n">ret_str</span><span class="nf">.lstrip!</span>
      <span class="k">return</span> <span class="n">ret_str</span>
   <span class="k">end</span>

   <span class="k">def </span><span class="nf">read</span><span class="p">()</span>
     <span class="no">File</span><span class="nf">.open</span><span class="p">(</span><span class="n">file</span><span class="p">,</span><span class="s2">&quot;r&quot;</span><span class="p">)</span><span class="nf">.each_line</span> <span class="k">do</span> <span class="o">|</span><span class="n">line</span><span class="o">|</span> 
     <span class="n">line</span><span class="nf">.chomp!</span>

     <span class="k">case</span> <span class="n">line</span>

       <span class="k">when</span> <span class="sr">/^\s*(#+).*$/</span>

       <span class="k">when</span> <span class="sr">/^(\s*\[){2}\s*(.+)(\s*\]){2}\s*$/</span>
         <span class="n">cleaned</span> <span class="o">=</span> <span class="n">clean</span><span class="p">(</span><span class="vg">$2</span><span class="p">)</span>
         <span class="k">if</span> <span class="p">(</span><span class="n">cleaned</span> <span class="o">==</span> <span class="s2">&quot;roots&quot;</span> <span class="o">||</span> <span class="n">cleaned</span> <span class="o">==</span> <span class="s2">&quot;backups&quot;</span> <span class="o">||</span> <span class="n">cleaned</span> <span class="o">==</span> <span class="s2">&quot;exclusions&quot;</span><span class="p">)</span>
            <span class="n">add</span><span class="p">(</span><span class="no">Section</span><span class="nf">.new</span><span class="p">(</span><span class="n">cleaned</span><span class="p">))</span>
         <span class="k">end</span>

       <span class="k">when</span> <span class="sr">/^\s*\[\s*(.+)\s*\]\s*$/</span>
         <span class="n">cleaned</span> <span class="o">=</span> <span class="n">clean</span><span class="p">(</span><span class="vg">$1</span><span class="p">)</span>
         <span class="n">current_section</span><span class="nf">.add</span><span class="p">(</span><span class="no">BackableDir</span><span class="nf">.new</span><span class="p">(</span><span class="n">cleaned</span><span class="p">))</span>

       <span class="k">when</span> <span class="sr">/\s*(.+)\s*/</span>
         <span class="n">current_section</span><span class="nf">.current_directory.add</span><span class="p">(</span><span class="no">BackableFile</span><span class="nf">.new</span><span class="p">(</span><span class="n">clean</span><span class="p">(</span><span class="vg">$1</span><span class="p">)))</span>

       <span class="k">else</span>
         <span class="c1">#</span>
      <span class="k">end</span>
   <span class="k">end</span>
<span class="k">end</span>


<span class="c1"># Section represents a [[section]] entry in the configuration file.</span>
<span class="c1"># Contains a hash of one or more [/directories]</span>

<span class="k">class </span><span class="nc">Section</span>
   <span class="kp">attr_accessor</span> <span class="ss">:name</span><span class="p">,</span> <span class="ss">:current_directory</span><span class="p">,</span> <span class="ss">:directories</span>

   <span class="k">def </span><span class="nf">initialize</span><span class="p">(</span><span class="nb">name</span><span class="p">)</span>
      <span class="vi">@name</span> <span class="o">=</span> <span class="nb">name</span>
      <span class="vi">@directories</span> <span class="o">=</span> <span class="no">Hash</span><span class="nf">.new</span>
      <span class="vi">@current_directory</span> <span class="o">=</span> <span class="kp">nil</span>
   <span class="k">end</span>

   <span class="k">def </span><span class="nf">add</span><span class="p">(</span><span class="n">directory</span><span class="p">)</span>
     <span class="vi">@directories</span><span class="o">[</span><span class="n">directory</span><span class="nf">.name.to_sym</span><span class="o">]=</span><span class="n">directory</span>
     <span class="vi">@current_directory</span> <span class="o">=</span> <span class="n">directory</span>
   <span class="k">end</span>
<span class="k">end</span>


<span class="c1"># BackableDir represents a [directory] entry in configuration file</span>
<span class="c1"># Contains an array of zero or more files</span>

<span class="k">class </span><span class="nc">BackableDir</span>
   <span class="kp">attr_accessor</span> <span class="ss">:name</span><span class="p">,</span> <span class="ss">:current_file</span><span class="p">,</span> <span class="ss">:files</span>

   <span class="k">def </span><span class="nf">initialize</span><span class="p">(</span><span class="n">directory</span><span class="p">)</span>
      <span class="vi">@name</span> <span class="o">=</span> <span class="n">directory</span>
      <span class="vi">@current_file</span> <span class="o">=</span> <span class="kp">nil</span>
      <span class="vi">@files</span> <span class="o">=</span> <span class="nb">Array</span><span class="nf">.new</span>
   <span class="k">end</span>

   <span class="k">def </span><span class="nf">add</span><span class="p">(</span><span class="n">file_ref</span><span class="p">)</span>
     <span class="vi">@files</span> <span class="o">&lt;&lt;</span> <span class="n">file_ref</span><span class="nf">.name</span>
     <span class="vi">@current_file</span> <span class="o">=</span> <span class="n">file_ref</span>
   <span class="k">end</span>

   


   <span class="c1"># based on: http://ruby-doc.org/stdlib-1.9.3/libdoc/find/rdoc/Find.html</span>

   <span class="k">def </span><span class="nc">BackableDir</span><span class="o">.</span><span class="nf">traverse</span><span class="p">(</span><span class="n">root</span><span class="p">,</span><span class="n">start_path</span><span class="p">,</span><span class="n">exclusions</span><span class="p">)</span>
     <span class="n">fullpath</span> <span class="o">=</span> <span class="n">root</span> <span class="o">+</span> <span class="n">start_path</span>
     <span class="no">PathCheck</span><span class="nf">.clean</span><span class="p">(</span><span class="n">fullpath</span><span class="p">)</span>
     <span class="k">if</span> <span class="no">FileTest</span><span class="nf">.directory?</span><span class="p">(</span><span class="n">fullpath</span><span class="p">)</span> <span class="c1"># make sure scan dir exists first</span>
        <span class="no">Find</span><span class="nf">.find</span><span class="p">(</span><span class="n">fullpath</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">path</span><span class="o">|</span>
           <span class="k">if</span> <span class="no">FileTest</span><span class="nf">.directory?</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
              <span class="k">if</span> <span class="n">exclusions</span><span class="o">[</span><span class="n">path</span><span class="nf">.to_sym</span><span class="o">]</span> <span class="c1"># root on exclusion list?</span>
                 <span class="no">Find</span><span class="nf">.prune</span>
              <span class="k">end</span>
           <span class="k">end</span>
           <span class="no">PathCheck</span><span class="nf">.display</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="k">end</span>
     <span class="k">end</span>
   <span class="k">end</span>
<span class="k">end</span>

<span class="c1"># BackableFile represents a filename in configuration file.</span>

<span class="k">class </span><span class="nc">BackableFile</span>
   <span class="kp">attr_accessor</span> <span class="ss">:name</span>

   <span class="k">def </span><span class="nf">initialize</span><span class="p">(</span><span class="nb">name</span><span class="p">)</span>
      <span class="vi">@name</span> <span class="o">=</span> <span class="nb">name</span>
   <span class="k">end</span>
<span class="k">end</span>

<span class="k">class </span><span class="nc">PathCheck</span>
   <span class="k">def </span><span class="nc">PathCheck</span><span class="o">.</span><span class="nf">clean</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
      <span class="n">path</span><span class="nf">.chomp!</span>
      <span class="n">path</span><span class="nf">.lstrip!</span>
      <span class="n">path</span><span class="nf">.squeeze!</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
   <span class="k">end</span>

   <span class="k">def </span><span class="nc">PathCheck</span><span class="o">.</span><span class="nf">display</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
      <span class="no">PathCheck</span><span class="nf">.clean</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
      <span class="nb">puts</span> <span class="n">path</span> <span class="k">if</span> <span class="no">FileTest</span><span class="nf">.exist?</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
   <span class="k">end</span>
<span class="k">end</span>


<span class="c1">## driver</span>
   <span class="k">if</span> <span class="no">ARGV</span><span class="nf">.size</span> <span class="o">&lt;</span> <span class="mi">1</span> <span class="o">||</span> <span class="no">ARGV</span><span class="nf">.size</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="o">||</span> <span class="o">!</span><span class="no">FileTest</span><span class="nf">.exist?</span><span class="p">(</span><span class="no">ARGV</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="p">)</span> 
      <span class="nb">puts</span> <span class="s2">&quot;Usage: backup.rb &lt;configuration file&gt;&quot;</span>
      <span class="nb">exit</span>
   <span class="k">end</span>

   <span class="n">conf</span> <span class="o">=</span> <span class="no">Configuration</span><span class="nf">.new</span><span class="p">(</span><span class="no">ARGV</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="p">)</span>
   <span class="n">conf</span><span class="nf">.read</span>

   <span class="n">roots</span> <span class="o">=</span> <span class="n">conf</span><span class="nf">.sections</span><span class="o">[</span><span class="ss">:roots</span><span class="o">]</span><span class="nf">.directories</span>
   <span class="n">backup_dirs</span> <span class="o">=</span> <span class="n">conf</span><span class="nf">.sections</span><span class="o">[</span><span class="ss">:backups</span><span class="o">]</span><span class="nf">.directories</span>
   <span class="n">exclusions</span> <span class="o">=</span> <span class="n">conf</span><span class="nf">.sections</span><span class="o">[</span><span class="ss">:exclusions</span><span class="o">]</span><span class="nf">.directories</span>
   <span class="n">exclusions</span><span class="nf">.update</span><span class="p">(</span><span class="n">roots</span><span class="p">)</span>

   <span class="n">roots</span><span class="nf">.each_pair</span> <span class="k">do</span> <span class="o">|</span><span class="n">r_name</span><span class="p">,</span><span class="n">a_root</span><span class="o">|</span>
      <span class="n">backup_dirs</span><span class="nf">.each_pair</span> <span class="k">do</span> <span class="o">|</span><span class="n">b_name</span><span class="p">,</span><span class="n">a_backup_dir</span><span class="o">|</span>
         <span class="k">if</span> <span class="p">(</span><span class="n">a_backup_dir</span><span class="nf">.files.empty?</span><span class="p">)</span> 
            <span class="no">BackableDir</span><span class="nf">.traverse</span><span class="p">(</span><span class="n">a_root</span><span class="nf">.name</span><span class="p">,</span><span class="n">b_name</span><span class="nf">.to_s</span><span class="p">,</span><span class="n">exclusions</span><span class="p">)</span> 
         <span class="k">end</span>
         <span class="n">a_backup_dir</span><span class="nf">.files.each</span> <span class="k">do</span> <span class="o">|</span><span class="n">a_file</span><span class="o">|</span>
            <span class="no">PathCheck</span><span class="nf">.display</span><span class="p">(</span><span class="n">a_root</span><span class="nf">.name</span> <span class="o">+</span> <span class="n">a_backup_dir</span><span class="nf">.name</span> <span class="o">+</span> <span class="s2">&quot;/&quot;</span> <span class="o">+</span> <span class="n">a_file</span><span class="p">)</span>
         <span class="k">end</span>
      <span class="k">end</span>
   <span class="k">end</span>
<span class="k">end</span>
</td></tr></tbody></table></pre><div class="footnotes">
  <ol>
    <li id="fn:1">
      <p>Pretend this is the bottom of the page; and this is the footnote. <a href="#fnref:1" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>

      </article>
      <footer class="footer clearfix">
	<div class="contact">
		<p class="details">Contact me, if that's what you want.</p>
	</div>
	<div class="links">
		<ul class="clearfix">
			<li class="details"><a href="/posts/2013.html">Archive</a></li>
			<li class="details"><a href="/rss.rss">RSS</a></li>
			<li class="details"><a href="mailto:allanbowhill@yahoo.com">Contact</a></li>
		</ul>
	</div>
</footer>

    </div>
  </body>
</html>
