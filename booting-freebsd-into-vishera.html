<!DOCTYPE html>
<html lang="en">
<head>

        <title>Kaveri Odd Thoughts</title>
        <meta charset="utf-8" />


        <!-- Mobile viewport optimized: j.mp/bplateviewport -->
        <meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1">

        <link rel="stylesheet" type="text/css" href="./theme/gumby.css" />
        <link rel="stylesheet" type="text/css" href="./theme/style.css" />
        <link rel="stylesheet" type="text/css" href="./theme/pygment.css" />

        <script src="./theme/js/libs/modernizr-2.6.2.min.js"></script>




</head>

<body id="index" class="home">


    <div class="container">

        <div class="row">

          <header id="banner" class="body">
                  <h1><a href="./">SyntaxFX <strong>Tech Blog</strong></a></h1>
          </header><!-- /#banner -->

            <div id="navigation" class="navbar row">
              <a href="#" gumby-trigger="#navigation &gt; ul" class="toggle"><i class="icon-menu"></i></a>
             
              <ul class="columns">
                <li><a href="./">Home</a></li>


              </ul>
            </div>

<section id="content" class="body">

   <div class="row">
        <div class="eleven columns">


            <header>
              <h2 class="entry-title">
                <a href="./booting-freebsd-into-vishera.html" rel="bookmark"
                   title="Permalink to Kaveri Odd Thoughts">Kaveri Odd Thoughts</a></h2>
           
            </header>
            <footer class="post-info">
              <abbr class="published" title="2015-04-10T00:00:00-07:00">
                Fri 10 April 2015
              </abbr>
              <address class="vcard author">By 
                <a class="url fn" href="./author/allan-bowhill.html"> Allan Bowhill</a>
              </address>
            </footer><!-- /.post-info -->
            <div class="entry-content">
              <p>I've been considering upgrading my main workstation / game machine and one of the most interesting options is an AMD (Kaveri) A10-7850K, which is one of the newest third-generation APU processors. </p>
<p>I'm admittedly seduced by the technical sophistication and cleverness of AMD's designs. They seem to bend over backwards to be different, fresh and innovative in a market that they have played underdog to Intel for many years.</p>
<p>Kaveri APUs do not normally require a video card. They dedicate die space on the cpu for a bus that allows GPU cores to run alongside cores for normal computing. The two groups of cores share access to memory. This allows greater cooperation between normal compute processors and graphics.</p>
<p>One of the advantages of this is zero-copy treatment of data. Instead of the CPU copying data between memory and the video card across a motherboard, APUs can use <strong>pointers</strong> to this data which then can be sent between the GPU and CPU, all on the faster die circuits.</p>
<p>Additionally, programming APIs like OpenCL 2.0 and Mantle leverage Kaveri processing performance even more. Intel CPUs also benefit from this, and these standards are being adopted slowly.</p>
<p>Furthermore, with the right video card, Kaveri processors can actually use <a href="http://www.tomshardware.com/reviews/a10-7850k-a8-7600-kaveri,3725-8.html">Crossfire technology</a> with the A-series APU, boosting the combined performace of the APU and card. And many of these processors with the "K" designator (such as the 7850K) can be generously overclocked.</p>
<p>Finally, power consumption on non-overclocked machines has been measured at <a href="http://www.tomshardware.com/reviews/amd-a10-7800-kaveri-apu-efficiency,3899-10.html">55 watts from the wall socket</a> on APU only configurations. 55 watts is a very low power draw. Think of a 55 watt light bulb.</p>
<p>Howeverm, despite the sophistication of the design, performance of these processors is not as good as Intel, but closes the gap on graphics in a practical sense. </p>
<p>For most games I saw reviewed, there was a lot of <a href="https://youtu.be/Cv57qDXpEPU">hovering on the 30 fps mark or thereabouts</a>. Application of Mantle and overclocking can push this into more acceptable territory. Most "next-gen" games are still locked at 60 fps and 1080p max. If all else fails, you could back off to 780p to regain frames, or better yet, use the right external card for crossfire.</p>
<p>It's a complex technology, and it has a way to go. The risks are potential lack of commitment from AMD, lack of support from game makers in using Mantle, motherboards that do not support crossfire, and in my special case, not being able to demote the machine to it's end of life as a FreeBSD server. </p>
<p>This last point I wanted to mention a bit more. Most of us who have machines like to keep them around long past their due date. Instead of using them as workstations and throwing them out, we "demote and rotate" them out as servers. </p>
<p>Right now, I have a Celeron single core machine with 1G of memory acting as my FreeBSD server. The machine is over 11 years old. I want to replace it with my current workstation, an Intel Core 2 Duo. <strong>Badly.</strong> </p>
<p>Even FreeBSD has upped the practical requirement for machines to realistically have 4G of memory (to support fabulous ZFS), and the old Celeron is limited to to 2GB. My Core Duo has 8G, and that's about right for a small home development server.</p>
<p>Unfortunately, FreeBSD supports old hardware much better than the new, prorietary stuff. I spent quite a lot of time trying to locate someone with a working FreeBSD Kaveri rig out there, (they practically don't exist) and the best I can say is that FreeBSD support seems experimental at this point. Not only that, but FreeBSD has only just recently adopted UEFI bios booting, and so  naturally that will not be up to its full potential for a few months yet.</p>
<p>Burning inside to discover more about how FreeBSD fares with Kaveri, I tried a test-boot on my ASUS K55N laptop, a Trinity A-series CPU with 4 cores, 2nd generation piledriver architecture. It's similar enough to Kaveri that it could serve as an example on what to expect from FreeBSD <strong>today</strong> if I tried booting it.</p>
<p>In fact, to my surprise, I was able to boot into FreeBSD on this A8 using the UEFI CD ISO. I was able run a bunch of commands in the shell, but it was rough. There were a number of manual preperatory steps to perform in BIOS, kernel device detection/initialization failures and some other oddities along the way. I won't go into them here, but it's safe to say that full support will eventually come to the current technology. I imagine a year may have to pass before Kaveri recieves attention, unless something comes along to catalyze things. With the nightmare of <a href="https://www.cpubenchmark.net/CPU_mega_page.html">~2500 CPUs</a> to support out there, and countless motherboards, volunteer programmers have their limits.</p>
<p>I will run any workstation for at least 5 years. If I get one, I won't be rotating a Kaveri machine out as a FreeBDSD server before it gets support. This makes it a reasonable candidate for a windows workstation now. Although the A10's 12 threads are  compelling, if no suppport is there, half the CPU die will be sitting idle, since 8 of those threads are dedicated to graphics. </p>
<p>I'm also considering the more realistic <a href="https://youtu.be/7WQxr59KRto">AMD FX-83XX series CPUs</a> (8 hardware threads, all usable for computing) for their sheer game-playing power for price. And possibly, the AMD FX-6300 for a decent low end experience with 6 hardware threads.</p>
            </div><!-- /.entry-content -->


        </div><!-- /.eleven.columns -->

<div class="three columns">

<h4>Pages</h4>

 <ul>
  </ul>

<h4>Categories</h4>
<ul>
		<li><a href="./category/chrome.html">Chrome</a></li>
		<li><a href="./category/design.html">Design</a></li>
		<li><a href="./category/freebsd.html">FreeBSD</a></li>
		<li><a href="./category/games.html">games</a></li>
		<li><a href="./category/javascript.html">Javascript</a></li>
		<li><a href="./category/ruby.html">Ruby</a></li>
		<li><a href="./category/rvm.html">RVM</a></li>
		<li><a href="./category/scala.html">Scala</a></li>
		<li><a href="./category/shell.html">shell</a></li>
		<li><a href="./category/ssh.html">SSH</a></li>
		<li><a href="./category/storage.html">storage</a></li>
		<li><a href="./category/technotes.html">TechNotes</a></li>
		<li><a href="./category/tmux.html">Tmux</a></li>
		<li><a href="./category/unix.html">Unix</a></li>
</ul>


<h4>Tags</h4>
	<ul>
	    <li class="tag-3"><a href="./tag/metaprogramming.html">metaprogramming</a></li>
	    <li class="tag-3"><a href="./tag/amd.html">AMD</a></li>
	    <li class="tag-3"><a href="./tag/sbt.html">sbt</a></li>
	    <li class="tag-4"><a href="./tag/win7.html">Win7</a></li>
	    <li class="tag-4"><a href="./tag/trinity.html">Trinity</a></li>
	    <li class="tag-4"><a href="./tag/patterns.html">patterns</a></li>
	    <li class="tag-4"><a href="./tag/www.html">www</a></li>
	    <li class="tag-2"><a href="./tag/ssh.html">ssh</a></li>
	    <li class="tag-4"><a href="./tag/clang.html">clang</a></li>
	    <li class="tag-3"><a href="./tag/rvm.html">rvm</a></li>
	    <li class="tag-4"><a href="./tag/games.html">games</a></li>
	    <li class="tag-4"><a href="./tag/intellij.html">intellij</a></li>
	    <li class="tag-4"><a href="./tag/javascript.html">Javascript</a></li>
	    <li class="tag-4"><a href="./tag/functional.html">functional</a></li>
	    <li class="tag-4"><a href="./tag/unix.html">Unix</a></li>
	    <li class="tag-4"><a href="./tag/benchmarks.html">benchmarks</a></li>
	    <li class="tag-4"><a href="./tag/language.html">language</a></li>
	    <li class="tag-4"><a href="./tag/java.html">java</a></li>
	    <li class="tag-1"><a href="./tag/ruby.html">Ruby</a></li>
	    <li class="tag-1"><a href="./tag/shell.html">shell</a></li>
	    <li class="tag-2"><a href="./tag/design.html">design</a></li>
	    <li class="tag-4"><a href="./tag/dotfile.html">dotfile</a></li>
	    <li class="tag-4"><a href="./tag/opal.html">opal</a></li>
	    <li class="tag-4"><a href="./tag/object.html">object</a></li>
	    <li class="tag-4"><a href="./tag/scripts.html">scripts</a></li>
	    <li class="tag-4"><a href="./tag/gui.html">gui</a></li>
	    <li class="tag-4"><a href="./tag/vim.html">vim</a></li>
	    <li class="tag-4"><a href="./tag/storage.html">storage</a></li>
	    <li class="tag-3"><a href="./tag/zfs.html">zfs</a></li>
	    <li class="tag-4"><a href="./tag/windows.html">Windows</a></li>
	    <li class="tag-4"><a href="./tag/chromebook.html">chromebook</a></li>
	    <li class="tag-4"><a href="./tag/build.html">build</a></li>
	    <li class="tag-4"><a href="./tag/arma-iii.html">ArmA III</a></li>
	    <li class="tag-4"><a href="./tag/laptop.html">Laptop</a></li>
	    <li class="tag-4"><a href="./tag/uefi.html">UEFI</a></li>
	    <li class="tag-4"><a href="./tag/configuration.html">configuration</a></li>
	    <li class="tag-2"><a href="./tag/programming.html">programming</a></li>
	    <li class="tag-1"><a href="./tag/scala.html">scala</a></li>
	    <li class="tag-4"><a href="./tag/cr-48.html">cr-48</a></li>
	    <li class="tag-4"><a href="./tag/vishera.html">Vishera</a></li>
	    <li class="tag-4"><a href="./tag/disk.html">disk</a></li>
	    <li class="tag-4"><a href="./tag/hsa.html">HSA</a></li>
	    <li class="tag-4"><a href="./tag/perl.html">perl</a></li>
	    <li class="tag-1"><a href="./tag/freebsd.html">FreeBSD</a></li>
	    <li class="tag-4"><a href="./tag/python.html">Python</a></li>
	    <li class="tag-4"><a href="./tag/ubuntu.html">Ubuntu</a></li>
	    <li class="tag-4"><a href="./tag/chrome.html">Chrome</a></li>
	    <li class="tag-4"><a href="./tag/ide.html">ide</a></li>
	    <li class="tag-4"><a href="./tag/forwarding.html">forwarding</a></li>
	    <li class="tag-4"><a href="./tag/template.html">template</a></li>
	    <li class="tag-3"><a href="./tag/tmux.html">tmux</a></li>
</ul>


<nav class="widget">
  <h4>Social</h4>
  <ul>
    <li><a href="https://www.facebook.com/allan.bowhill.1/">Facebook</a></li>
  </ul>
</nav>

</div> </div><!-- /.row -->


</section>

       </div><!-- /.row -->
    </div><!-- /.container -->


       <div class="container.nopad bg">

    
        <footer id="credits" class="row">
          <div class="seven columns left-center">

                   <address id="about" class="vcard body">
                    Proudly powered by <a href="http://getpelican.com/">Pelican</a>,
                    which takes great advantage of <a href="http://python.org">Python</a>.
                    <br />
                    Based on the <a target="_blank" href="http://gumbyframework.com">Gumby Framework</a>
                    </address>
          </div>


          <div class="seven columns">
            <div class="row">
              <ul class="socbtns">





              </ul>
            </div>
          </div>
        </footer>

    </div>


  <script src="./theme/js/libs/jquery-1.9.1.min.js"></script>
  <script src="./theme/js/libs/gumby.min.js"></script>
  <script src="./theme/js/plugins.js"></script>
</body>
</html>